jQuery(function(a){jQuery(document).ready(function(d){"use strict";function t(){d(".sao-aw").each(function(){var a,t,o,e,s=d(this).width();a=s,t=d(this),o="col",e=t.find(".sao-flex"),t=a,e.hasClass("sao_"+o+"_1_2")?t=a/2:e.hasClass("sao_"+o+"_1_3")?t=a/3:e.hasClass("sao_"+o+"_1_4")?t=a/4:e.hasClass("sao_"+o+"_1_5")?t=a/5:e.hasClass("sao_"+o+"_1_6")?t=a/6:e.hasClass("sao_"+o+"_1_7")?t=a/7:e.hasClass("sao_"+o+"_1_8")&&(t=a/8),900<(s=t-40)?d(this).addClass("sao-1200"):600<s&&s<=900?d(this).addClass("sao-900"):400<s&&s<=600?d(this).addClass("sao-600"):300<s&&s<=400?d(this).addClass("sao-400"):200<s&&s<=300?d(this).addClass("sao-300"):s<200&&d(this).addClass("sao-200")})}function i(){var a='<div class="sao-errored">';a+=sao_text.error,a+="</div>",d(".sao-mouse-wait").append(a),setTimeout(function(){d(".sao-mouse-wait").remove()},2500)}function n(){var a;d(".sao-aw"+a).each(function(){d(this).removeClass("sao-1200"+a).removeClass("sao-900"+a).removeClass("sao-600"+a).removeClass("sao-400"+a).removeClass("sao-300"+a).removeClass("sao-200"+a).removeClass("sao-000"+a)}),t()}function l(){n(),jQuery().sao_hexagon&&d(".wp-admin").sao_hexagon(),jQuery().sao_boxed&&d(".wp-admin").sao_boxed(),jQuery().sao_slider&&d(".wp-admin").sao_slider(),d(".sao-video").each(function(a,t){var o=d(this).find(".sao-video-warp").width(),e=d(this).find(".sao-video-warp").height();d(this).find("video,iframe").attr("width",o).attr("height",e)}),jQuery().sao_progressbar&&d(".wp-admin").sao_progressbar(),jQuery().sao_chart&&d(".wp-admin").sao_chart(),jQuery().sao_count_number&&d(".wp-admin").sao_count_number()}function _(t){d(".sao_options").find(".sao_options_fold").each(function(){var o;d(this).find(".sao_options_fold_item").each(function(){var a=d(this).attr("data-name"),t=d(this).attr("data-value");"radio"==d('.sao_options [name="'+a+'"]').attr("type")?"checked"==d('.sao_options [name="'+a+'"][value="'+t+'"]').attr("checked")&&(o="checked"):t==d('.sao_options [name="'+a+'"]').val()&&(o="checked")}),"checked"==o?d(this).parent().attr("data-active","show"):d(this).parent().attr("data-active","hide")}),d(".sao_options_fold_item").each(function(){var a=d(this).attr("data-name");"hide"==d('.sao_options [name="'+a+'"]').parents(t).attr("data-active")&&d(this).parent().parent().attr("data-active","hide")}),d(document).on("click",".sao_options_select .sao_options_setting, .sao_options_checkbox .sao_options_setting,.sao_options_radio .sao_options_setting,.sao_options_radio_image .sao_options_setting",function(){d(this).parents(".sao_options_warp").find(".sao_options_fold").each(function(){var o;d(this).find(".sao_options_fold_item").each(function(){var a=d(this).attr("data-name"),t=d(this).attr("data-value");"radio"==d('.sao_options  [name="'+a+'"]').attr("type")?"checked"==d('.sao_options [name="'+a+'"][value="'+t+'"]').attr("checked")&&(o="checked"):t==d('.sao_options [name="'+a+'"]').val()&&(o="checked")}),"checked"==o?d(this).parent().attr("data-active","show"):d(this).parent().attr("data-active","hide")}),d(this).parents(".sao_options_warp").find(".sao_options_fold_item").each(function(){var a=d(this).attr("data-name");"hide"==d('[name="'+a+'"]').parents(t).attr("data-active")&&d(this).parent().parent().attr("data-active","hide")})}),d(document).on("click",".sao_title_tabs a",function(){var a=d(this).attr("data-id");d('.sao_options_warp[data-tab="'+a+'"]').find(".sao_options_fold").each(function(){var o;d(this).find(".sao_options_fold_item").each(function(){var a=d(this).attr("data-name"),t=d(this).attr("data-value");"radio"==d('.sao_options  [name="'+a+'"]').attr("type")?"checked"==d('.sao_options [name="'+a+'"][value="'+t+'"]').attr("checked")&&(o="checked"):t==d('.sao_options [name="'+a+'"]').val()&&(o="checked")}),"checked"==o?d(this).parent().attr("data-active","show"):d(this).parent().attr("data-active","hide")}),d('.sao_options_warp[data-tab="'+a+'"]').find(".sao_options_fold_item").each(function(){var a=d(this).attr("data-name");"hide"==d('[name="'+a+'"]').parents(t).attr("data-active")&&d(this).parent().parent().attr("data-active","hide")})})}function s(){d(".sao_options_tabs .sao_options_setting ").sortable({opacity:.6,stop:function(){}}),d(".sao_options_list .sao_options_setting ").sortable({opacity:.6,handle:".sao_list_options_item_title",stop:function(){}}),d(".sao_gallery_list").sortable({opacity:.6,stop:function(){}}),d(".sao_list_item").each(function(){var a=d(this).find(".sao_list_options_item input,.sao_list_options_item textarea").val();d(this).find(".sao_title_list").html(a)})}function c(a){d(a).find(".sao-editor-hander").each(function(){var a="initialize",t=null,o=d(this).attr("data-id");t||((t=jQuery.extend(!0,{},tinyMCEPreInit)).mceInit[a].selector="#placeholder",t.mceInit.placeholder=t.mceInit[a],delete t.mceInit[a],t.qtInit[a].id_name="placeholder",t.qtInit.placeholder=t.qtInit[a],delete t.qtInit[a]);a=jQuery.extend(!0,{},t);a.mceInit.placeholder.selector="#"+o,a.mceInit[o]=a.mceInit.placeholder,delete a.mceInit.placeholder,a.qtInit.placeholder.id_name=o,a.qtInit[o]=a.qtInit.placeholder,delete a.qtInit.placeholder;t=a.mceInit[o];!tinymce.$("#wp-"+o+"-wrap").hasClass("tmce-active")&&a.qtInit.hasOwnProperty(o)||t.wp_skip_init||(tinymce.init(t),window.wpActiveEditor||(window.wpActiveEditor=o)),"undefined"!=typeof quicktags&&(quicktags(a.qtInit),window.wpActiveEditor||(window.wpActiveEditor=o),QTags({id:o}),QTags._buttonsInit())})}function r(){d(".sao-editor-hander").each(function(){var a=d(this).attr("data-id");tinymce.execCommand("mceRemoveEditor",!1,a)})}function m(){d(document).on("click",".sao_list_item.sao_list_item_show .sao_list_options_item_title, .sao_list_item.sao_list_item_show  .sao_list_collapse",function(){d(this).parents(".sao_list_item").removeClass("sao_list_item_show").addClass("sao_list_item_hide")}),d(document).on("click",".sao_list_item.sao_list_item_hide .sao_list_options_item_title, .sao_list_item.sao_list_item_hide  .sao_list_collapse",function(a){d(this).parents(".sao_options_setting").find(".sao_list_item").each(function(a,t){d(this).removeClass("sao_list_item_show").addClass("sao_list_item_hide")}),d(this).parents(".sao_list_item").removeClass("sao_list_item_hide").addClass("sao_list_item_show")})}function u(){var i=[],n=[],l=[];d(".sao_builder_section_item").each(function(){var a=d(this).attr("data-key"),t=d(this).attr("data-option"),o=d(this).attr("data-value"),e=d(this).attr("data-collapse"),s={};s[a]={value:o,option:t,collapse:e},i.push(s)}),d(".sao_builder_column_item").each(function(){var a=d(this).attr("data-key"),t=d(this).attr("data-child"),o=d(this).attr("data-option"),e=d(this).attr("data-value"),s=d(this).attr("data-collapse"),i={};i[a]={value:e,child:t,option:o,collapse:s},n.push(i)}),d(".sao_builder_element_item").each(function(){var a=d(this).attr("data-key"),t=d(this).attr("data-childern"),o=d(this).attr("data-option"),e=d(this).attr("data-value"),s=d(this).attr("data-collapse"),i={};i[a]={value:e,childern:t,option:o,collapse:s},l.push(i)}),d("#sao_section").val(JSON.stringify(i)),d("#sao_column").val(JSON.stringify(n)),d("#sao_element").val(JSON.stringify(l))}function p(){d(".sao_section_list").sortable({opacity:.6,update:function(){u()}}),d(".sao_column_list").sortable({opacity:.6,connectWith:".sao_column_list",update:function(){var a=d(this).parents(".sao_section_item ").data("key");d(this).find(".sao_column_item").attr("data-child",a),u()}}),d(".sao_element_list").sortable({opacity:.6,connectWith:".sao_element_list",update:function(){var a=d(this).parents(".sao_column_item ").data("key");d(this).find(".sao_element_item").attr("data-childern",a),u()}})}function h(a,t,o){d(o).attr("data-key",t).attr("id","sao_"+a+"_"+t)}function v(a,t){var i=[],n=[],l=[];return"section"==a?(d(t+".sao_section_item").each(function(){var a=d(this).attr("data-key"),t=d(this).attr("data-option"),o=d(this).attr("data-value"),e=d(this).attr("data-collapse"),s={};s[a]={value:o,option:t,collapse:e},i.push(s)}),encodeURIComponent(JSON.stringify(i))):"column"==a?(d(t+".sao_column_item").each(function(){var a=d(this).attr("data-key"),t=d(this).attr("data-child"),o=d(this).attr("data-option"),e=d(this).attr("data-value"),s=d(this).attr("data-collapse"),i={};i[a]={value:e,child:t,option:o,collapse:s},n.push(i)}),encodeURIComponent(JSON.stringify(n))):"element"==a?(d(t+".sao_element_item").each(function(){var a=d(this).attr("data-key"),t=d(this).attr("data-childern"),o=d(this).attr("data-option"),e=d(this).attr("data-value"),s=d(this).attr("data-collapse"),i={};i[a]={value:e,childern:t,option:o,collapse:s},l.push(i)}),encodeURIComponent(JSON.stringify(l))):void 0}d(document).ajaxError(function(a,t,o,e){i()}),d(".add_sao_page_builder").on("click",".switch_sao_page_builder",function(){d(this).parent().removeClass("sao_default_editor").addClass("sao_page_builder"),d("body.wp-admin").addClass("sao-hide-wp-editor"),d("#sao_builder_metabox").addClass("sao-show-page-builder"),d("#sao_show_page_builder").attr("value",1)}),d(".add_sao_page_builder").on("click",".switch_sao_default_editor",function(){d(this).parent().removeClass("sao_page_builder").addClass("sao_default_editor"),d("body.wp-admin").removeClass("sao-hide-wp-editor"),d("#sao_builder_metabox").removeClass("sao-show-page-builder"),d("#sao_show_page_builder").attr("value","")}),d(".add_sao_page_builder").hasClass("sao_page_builder")?(d("body.wp-admin").addClass("sao-hide-wp-editor"),d("#sao_builder_metabox").addClass("sao-show-page-builder")):(d("body.wp-admin").removeClass("sao-hide-wp-editor"),d("#sao_builder_metabox").removeClass("sao-show-page-builder")),d(document).on("click",".sao_full_screen_page_builder ",function(){d(this).parent().addClass("sao_full_builder"),d("body").addClass("sao_overflow_hidden")}),d(document).on("click",".sao_full_screen_close",function(){d(this).parent().removeClass("sao_full_builder"),d("body").removeClass("sao_overflow_hidden")}),d(document).on("click",".sao_radio_selected label",function(){d(this).parent().parent().find("[checked]").each(function(){d(this).removeAttr("checked")}),d(this).find("input").attr("checked","checked")}),l(),m(),u(),p(),d(".sao_builder").on("click",".sao_add_section",function(a){d("body").append('<div class="sao-mouse-wait"></div>');var t=Math.floor(9999999999*Math.random());d.ajax({type:"POST",url:builder_js.ajaxurl,data:{action:"sao_builder_section",key:t,value:"section",default:"1"},success:function(a){a.length?(d(".sao_builder_list").append(a),d(".sao_model").hide(),d(".sao_builder_list,.sao_element_list,.sao_column_list").sortable({disabled:!1}),p(),d(".sao-mouse-wait").remove(),u()):i()}})}),d(".sao_builder").on("click",".sao_section_options",function(a){d("body").append('<div class="sao-mouse-wait"></div>');var t=d(this).parents(".sao_section_item").attr("data-key"),o=d(this).parents(".sao_section_item").attr("data-option");d(this);d.ajax({type:"POST",url:builder_js.ajaxurl,data:{action:"sao_section_options",option:o,key:t},success:function(a){a.length?(d("body").append(a),d(".sao-color").cs_wpColorPicker(),d("body").addClass("sao-body-panel"),d(".sao-mouse-wait").remove(),c("#sao_options_"+t),s(),_(".sao_options_item")):i()}})}),d(document).on("click",".sao_options_section .sao_options_update ",function(a){d(".sao-editor-hander").each(function(){var a=d(this).attr("data-id"),a=tinyMCE.get(a).getContent();d(this).find("textarea.wp-editor-area").val(a)}),d("body").append('<div class="sao-mouse-wait"></div>');var t=d(this).parents(".sao_options").serializeJSON(),o=d(this).parents(".sao_options").attr("data-key"),e=d(this);d.ajax({type:"POST",url:builder_js.ajaxurl,data:{action:"sao_options_encode",option:t},success:function(a){a.length?(d("#sao_section_"+o).attr("data-option",a),d(".sao-mouse-wait").remove(),r(),d("body").removeClass("sao-body-panel"),d(e).parents(".sao_options").remove(),u()):i()}})}),jQuery(document).on("click",".sao_section_duplicate",function(){var a=d(this).parents(".sao_section_item").addClass("sao_duplicate").clone();d(this).parents(".sao_duplicate").removeClass("sao_duplicate"),d(this).parents(".sao_section_item").after(a);var o=Math.floor(9999999999*Math.random());h("section",o,".sao_duplicate"),d(".sao_duplicate").find(".sao_column_item").each(function(a,t){var e=Math.floor(9999999999*Math.random());d(this).attr("data-child",o),h("column",e,this),d(this).find(".sao_element_item").each(function(a,t){var o=Math.floor(9999999999*Math.random());d(this).attr("data-childern",e),h("element",o,this)})}),d(".sao_duplicate").removeClass("sao_duplicate"),p(),u(),l()}),d(".sao_builder").on("click",".sao_add_column",function(a){d(".sao_model_column").attr("data-child",d(this).parents(".sao_section_item").data("key")).css("display","table"),d(".sao_section_list,.sao_column_list,.sao_element_list").sortable({disabled:!0}),d("body").addClass("sao-body-panel")}),d(".sao_model_column").on("click",".sao_model_add",function(a){d("body").append('<div class="sao-mouse-wait"></div>');var t=Math.floor(9999999999*Math.random()),o=d(this).parents(".sao_model_column").data("child"),e=d(".sao_model_column").find(".selected").data("column");d.ajax({type:"POST",url:builder_js.ajaxurl,data:{action:"sao_builder_column",key:t,child:o,value:e,default:"1"},success:function(a){a.length?(d("#sao_section_"+o+" .sao_column_list").append(a),d(".sao-mouse-wait").remove(),d(".sao_model").hide(),d("body").removeClass("sao-body-panel"),d(".sao_builder_list,.sao_element_list,.sao_column_list").sortable({disabled:!1}),p(),u()):i()}})}),d(".sao_builder").on("click",".sao_column_options",function(a){d("body").append('<div class="sao-mouse-wait"></div>');d(this).parents(".sao_column_item");var t=d(this).parents(".sao_column_item").attr("data-key"),o=d(this).parents(".sao_column_item").attr("data-option");d(this);d.ajax({type:"POST",url:builder_js.ajaxurl,data:{action:"sao_column_options",option:o,key:t},success:function(a){a.length?(d("body").append(a),d(".sao-color").cs_wpColorPicker(),d(".sao-mouse-wait").remove(),c("#sao_options_"+t),s(),d("body").addClass("sao-body-panel"),_(".sao_options_item")):i()}})}),d(document).on("click",".sao_options_column .sao_options_update",function(a){d(".sao-editor-hander").each(function(){var a=d(this).attr("data-id"),a=tinyMCE.get(a).getContent();d(this).find("textarea.wp-editor-area").val(a)}),d("body").append('<div class="sao-mouse-wait"></div>');d(this).parents(".sao_column_item");var t=d(this).parents(".sao_options").attr("data-key"),o=d(this).parents(".sao_options").serializeJSON(),e=d(this);d.ajax({type:"POST",url:builder_js.ajaxurl,data:{action:"sao_options_encode",option:o},success:function(a){a.length?(d("#sao_column_"+t).attr("data-option",a),d(".sao-mouse-wait").remove(),r(),d("body").removeClass("sao-body-panel"),d(e).parents(".sao_options").remove(),u(),l()):i()}})}),jQuery(document).on("click",".sao_column_duplicate",function(){var a=d(this).parents(".sao_column_item").addClass("sao_duplicate").clone();d(this).parents(".sao_duplicate").removeClass("sao_duplicate"),d(this).parents(".sao_column_item").after(a);var e=Math.floor(9999999999*Math.random());h("column",e,".sao_duplicate"),d(".sao_duplicate").find(".sao_element_item").each(function(a,t){var o=Math.floor(9999999999*Math.random());d(this).attr("data-childern",e),h("element",o,this)}),d(".sao_duplicate").removeClass("sao_duplicate"),p(),u(),l()}),d(".sao_builder").on("click",".sao_add_element",function(a){d(".sao_model_element").attr("data-childern",d(this).parents(".sao_column_item").data("key")).css("display","table"),d("body").addClass("sao-body-panel"),d(".sao_section_list,.sao_column_list,.sao_element_list").sortable({disabled:!0})}),d(".sao_builder_main .sao_model_element").on("click",".sao_model_add",function(a){d("body").append('<div class="sao-mouse-wait"></div>');var t=Math.floor(9999999999*Math.random()),o=d(this).parents(".sao_model_element").attr("data-childern"),e=d(".sao_model_element").find(".selected").attr("data-element"),s=d(".sao_model_element").find(".selected").attr("data-option");d.ajax({type:"POST",url:builder_js.ajaxurl,data:{action:"sao_builder_element",key:t,childern:o,value:e,sao_element_options:s,default:"1"},success:function(a){a.length?(d("#sao_column_"+o+" .sao_element_list").append(a),d(".sao_model").hide(),d(".sao-mouse-wait").remove(),d(".sao_builder_list,.sao_column_list,.sao_element_list").sortable({disabled:!1}),p(),d("body").removeClass("sao-body-panel"),u(),n(),l()):i()}})}),d(".sao_builder_main").on("click",".sao_element_options",function(){d("body").append('<div class="sao-mouse-wait"></div>');var t=d(this).parents(".sao_element_item").attr("data-key"),a=d(this).parents(".sao_element_item").attr("data-value"),o=(d(this).parents(".sao_element_item"),d(this).parents(".sao_element_item").attr("data-option")),e=(d(this),d('.sao_model_item[data-element="'+a+'"]').attr("data-option"));d.ajax({url:builder_js.ajaxurl,type:"POST",data:{action:"sao_element_options",value:a,key:t,option:o,sao_element_options:e},success:function(a){a.length?(d("body").append(a),d(".sao-color").cs_wpColorPicker(),d(".sao-mouse-wait").remove(),c("#sao_options_"+t),s(),d("body").addClass("sao-body-panel"),_(".sao_options_item")):i()}})}),d(document).on("click",".sao_builder_options_element .sao_options_update",function(a){d(".sao-editor-hander").each(function(){var a=d(this).attr("data-id"),a=tinyMCE.get(a).getContent();d(this).find("textarea.wp-editor-area").val(a)}),d("body").append('<div class="sao-mouse-wait"></div>');var t=d(this).parents(".sao_options").serializeJSON(),o=d(this).parents(".sao_options").attr("data-key"),e=d(this),s=d(this).parents(".sao_options").attr("data-value");d.ajax({type:"POST",url:builder_js.ajaxurl,data:{action:"sao_options_encode",option:t},success:function(a){a.length?(d("#sao_element_"+o).attr("data-option",a),r(),d(e).parents(".sao_options").remove(),d(".sao-mouse-wait").remove(),u(),d("body").removeClass("sao-body-panel"),n()):i()}}),d.ajax({type:"POST",url:builder_js.ajaxurl,data:{action:"sao_element_perview",option:t,value:s},success:function(a){a.length?(d("#sao_element_"+o+" .sao_element_perview").html("").append(a),n(),l()):i()}})}),jQuery(document).on("click",".sao_element_duplicate",function(){var a=d(this).parents(".sao_element_item").addClass("sao_duplicate").clone();d(this).parents(".sao_duplicate").removeClass("sao_duplicate"),d(this).parents(".sao_element_item").after(a),h("element",Math.floor(9999999999*Math.random()),".sao_duplicate"),d(".sao_duplicate").removeClass("sao_duplicate"),p(),u(),n(),l()}),d(".sao_model_element").each(function(){d(this).find("li:first").addClass("selected"),d(this).find("li:first input").attr("checked","checked")}),d(".sao_model").on("click",".sao_model_item",function(){d(this).parents(".sao_model_content").find(".selected").removeClass("selected"),d(this).addClass("selected")}),d(".sao_builder").on("click",".sao_template_save",function(a){d("body").append('<div class="sao-mouse-wait"></div>'),d(".sao_builder_list,.sao_column_list,.sao_element_list").sortable({disabled:!0});var t=d(this).attr("data-row"),o=d(this).attr("data-name"),e=d(this);d.ajax({type:"POST",url:builder_js.ajaxurl,data:{action:"sao_template_option_save",row:t,name:o},success:function(a){d(e).parent().append(a),d(".sao-mouse-wait").remove(),d("body").addClass("sao-body-panel")}})}),d(".sao_builder").on("click",".sao_options_full_save",function(a){var t=Math.floor(9999999999*Math.random()),o=d(this).parents(".sao_options"),e=d(this).attr("data-rowname"),s=o.find('[name="save_template_name"]').val(),i=v("section",""),n=v("column",""),o=v("element","");s?(d("body").append('<div class="sao-mouse-wait"></div>'),d.ajax({url:builder_js.ajaxurl,type:"POST",data:{action:"sao_template_save",section:i,column:n,element:o,name:s,rowname:e,key:t,id:"full"},success:function(a){d(".sao_builder_list,.sao_column_list,.sao_element_list").sortable({disabled:!1}),d(".sao_options").remove(),d(".sao-mouse-wait").remove(),u(),d("body").removeClass("sao-body-panel")}})):d(".sao_options_massage").text("").append(sao_text.empty)}),d(".sao_builder").on("click",".sao_options_section_save",function(a){var t=Math.floor(9999999999*Math.random()),o=d(this).parents(".sao_options"),e=d(this).parents(".sao_section_item").attr("id"),s=o.find('[name="save_template_name"]').val(),i=v("section","#"+e),o=v("column","#"+e+" "),e=v("element","#"+e+" ");console.log(i),s?(d("body").append('<div class="sao-mouse-wait"></div>'),d.ajax({url:builder_js.ajaxurl,type:"POST",data:{action:"sao_template_save",section:i,column:o,element:e,name:s,key:t,id:"section"},success:function(a){d("body").addClass("sao-body-panel"),d(".sao_builder_list,.sao_column_list,.sao_element_list").sortable({disabled:!1}),d(".sao_options").remove(),d(".sao-mouse-wait").remove(),u(),d("body").removeClass("sao-body-panel")}})):d(".sao_options_massage").text("").append(sao_text.empty)}),d(".sao_builder").on("click",".sao_options_column_save",function(a){var t=Math.floor(9999999999*Math.random()),o=d(this).parents(".sao_options"),e=d(this).parents(".sao_column_item").attr("id"),s=o.find('[name="save_template_name"]').val(),o=v("column","#"+e),e=v("element","#"+e+" ");s?(d("body").append('<div class="sao-mouse-wait"></div>'),d.ajax({url:builder_js.ajaxurl,type:"POST",data:{action:"sao_template_save",column:o,element:e,name:s,key:t,id:"column"},success:function(a){d(".sao_builder_list,.sao_column_list,.sao_element_list").sortable({disabled:!1}),d(".sao_options").remove(),d(".sao-mouse-wait").remove(),u(),d("body").removeClass("sao-body-panel")}})):d(".sao_options_massage").text("").append(sao_text.empty)}),d(".sao_builder").on("click",".sao_options_element_save",function(a){var t=Math.floor(9999999999*Math.random()),o=d(this).parents(".sao_options"),e=d(this).parents(".sao_element_item").attr("id"),o=o.find('[name="save_template_name"]').val(),e=v("element","#"+e);o?(d("body").append('<div class="sao-mouse-wait"></div>'),d.ajax({url:builder_js.ajaxurl,type:"POST",data:{action:"sao_template_save",element:e,name:o,key:t,id:"element"},success:function(a){d(".sao_builder_list,.sao_column_list,.sao_element_list").sortable({disabled:!1}),d(".sao_options").remove(),d(".sao-mouse-wait").remove(),u(),d("body").removeClass("sao-body-panel")}})):d(".sao_options_massage").text("").append(sao_text.empty)}),d(".sao_builder_main").on("click",".sao_template_add",function(a){var t=d(this).attr("data-row"),o=d(this),e=d(this).attr("data-name");d("body").append('<div class="sao-mouse-wait"></div>'),d(".sao_builder_list,.sao_column_list,.sao_element_list").sortable({disabled:!0}),d.ajax({type:"POST",url:builder_js.ajaxurl,data:{action:"sao_template_options",id:t,name:e},success:function(a){a.length?(d(o).parent().append(a),d(".sao-mouse-wait").remove(),n(),l(),d("body").addClass("sao-body-panel")):i()}})}),d(document).on("click",".sao_template_item",function(a){d(this).parent().find(".selected").removeClass("selected"),d(this).addClass("selected")}),d(".sao_builder_main").on("click",".sao_full_template_add_options,.sao_section_template_add_options",function(a){var t=d(".sao_template_item.selected").attr("data-id"),o=d(this).parents(".sao_model_template").attr("data-row");d("body").append('<div class="sao-mouse-wait"></div>'),d.ajax({type:"POST",url:builder_js.ajaxurl,data:{action:"sao_builder_section_list",template_id:t,row_id:o},success:function(a){a.length?(d(".sao_section_list").append(a),jQuery(".sao_new_section").each(function(a,t){var o=Math.floor(9999999999*Math.random());h("section",o,this),d(this).find(".sao_builder_column_item").each(function(a,t){var e=Math.floor(9999999999*Math.random());d(this).attr("data-child",o),h("column",e,this),d(this).find(".sao_builder_element_item").each(function(a,t){var o=Math.floor(9999999999*Math.random());d(this).attr("data-childern",e),h("element",o,this)})}),d(this).removeClass("sao_new_section")}),d(".sao-mouse-wait").remove(),d(".sao_model_template").remove(),d(".sao-color").wpColorPicker(),d(".sao_builder_list,.sao_column_list,.sao_element_list").sortable({disabled:!1}),p(),d("body").removeClass("sao-body-panel"),u(),n(),l()):i()}})}),d(".sao_slider_meta").on("click",".sao_full_template_add_options,.sao_section_template_add_options",function(a){var t=d(".sao_template_item.selected").attr("data-id"),o=d(this).parents(".sao_model_template").attr("data-row");d("body").append('<div class="sao-mouse-wait"></div>'),d.ajax({type:"POST",url:builder_js.ajaxurl,data:{action:"sao_builder_column_list",template_id:t,row_id:o},success:function(a){a.length?(d(".sao_column_list").append(a),jQuery(".sao_new_column").each(function(a,t){var e=Math.floor(9999999999*Math.random());h("column",e,this),d(this).find(".sao_element_item").each(function(a,t){var o=Math.floor(9999999999*Math.random());d(this).attr("data-childern",e),h("element",o,this)}),d(this).removeClass("sao_new_column")}),d(".sao-mouse-wait").remove(),d(".sao_model_template").remove(),d(".sao-color").wpColorPicker(),d("body").removeClass("sao-body-panel"),d(".sao_builder_list,.sao_column_list,.sao_element_list").sortable({disabled:!1}),p(),u(),n(),l()):i()}})}),d(".sao_builder").on("click",".sao_column_template_add_options",function(a){var o=d(".sao_section_item").attr("data-key"),t=d(".sao_template_item.selected").attr("data-id"),e=d(this).parents(".sao_model_template").attr("data-row"),s=d(this).parents(".sao_section_item");d("body").append('<div class="sao-mouse-wait"></div>'),d.ajax({type:"POST",url:builder_js.ajaxurl,data:{action:"sao_builder_column_list",template_id:t,row_id:e},success:function(a){a.length?(d(s).find(".sao_column_list").append(a),jQuery(".sao_new_column").each(function(a,t){var e=Math.floor(9999999999*Math.random());d(this).attr("data-child",o),h("column",e,this),d(this).find(".sao_element_item").each(function(a,t){var o=Math.floor(9999999999*Math.random());d(this).attr("data-childern",e),h("element",o,this)}),d(this).removeClass("sao_new_column")}),d("body").removeClass("sao-body-panel"),d(".sao-mouse-wait").remove(),d(".sao_model_template").remove(),d(".sao-color").wpColorPicker(),d(".sao_builder_list,.sao_column_list,.sao_element_list").sortable({disabled:!1}),p(),u(),n(),l()):i()}})}),d(".sao_builder").on("click",".sao_element_template_add_options",function(a){var e=d(".sao_column_item").attr("data-key"),t=d(".sao_template_item.selected").attr("data-id"),o=d(this).parents(".sao_model_template").attr("data-row"),s=d(this).parents(".sao_column_item");d("body").append('<div class="sao-mouse-wait"></div>'),d.ajax({type:"POST",url:builder_js.ajaxurl,data:{action:"sao_builder_element_list",template_id:t,row_id:o},success:function(a){a.length?(d(s).find(".sao_element_list").append(a),jQuery(".sao_new_element").each(function(a,t){var o=Math.floor(9999999999*Math.random());d(this).attr("data-childern",e),h("element",o,this),d(this).removeClass("sao_new_element")}),d(".sao-mouse-wait").remove(),d(".sao_model_template").remove(),d(".sao_builder_list,.sao_column_list,.sao_element_list").sortable({disabled:!1}),p(),u(),n(),l(),d("body").removeClass("sao-body-panel")):i()}})}),d(document).on("click",".sao_template_remove",function(a){var t=d(this).parent(),o=t.attr("data-id"),e=d(this).parents(".sao_model_template").attr("data-row");d("body").append('<div class="sao-mouse-wait"></div>'),1==confirm(sao_text.agree)&&d.ajax({url:builder_js.ajaxurl,type:"POST",data:{action:"sao_template_remove",key:o,id:e},success:function(a){a.length?(d(t).remove(),d(".sao-mouse-wait").remove()):i()}})}),d(document).on("click",".sao_dropdown dt a",function(){d(this).parents(".sao_dropdown").find("ul").slideToggle("fast")}),d(document).on("click",".dropdown dd ul li a",function(){d(".sao_dropdown dd ul").hide()}),d(document).bind("click",function(a){d(a.target).parents().hasClass("sao_dropdown")||d(".sao_dropdown dd ul").hide()}),d(document).on("click",'.sao_mutliSelect input[type="checkbox"]',function(){var a=d(this).next().text(),a=d(this).next().text()+",",t=d(this).next().attr("sao-id");d(this).is(":checked")?(a='<span sao-id="'+t+'">'+a+"</span>",d(this).parents(".sao_dropdown").find(".sao_multiSel").append(a),d(this).parents(".sao_dropdown").find(".sao_hida").hide()):(d(this).parents(".sao_dropdown").find('span[sao-id="'+t+'"]').remove(),t=d(this).parents(".sao_dropdown").find(".sao_hida"),d(this).parents(".sao_dropdown").find(".sao_dropdown dt a").append(t))}),d(document).on("click",".sao_image_remove",function(a){d(this).parent().remove()}),d(document).on("click",".sao_image_upload",function(a){var t,e=d(this),s=d(this).attr("data-name");a.preventDefault();var o=e.parents(".sao_options_image");d(a.target).closest(o);t||(d("body").addClass("sao-body-panel"),(t=wp.media({title:sao_text.choose,multiple:!1,library:{type:"image"},button:{text:sao_text.uploader_button}})).on("select",function(){var a=t.state().get("selection");a&&a.each(function(a){console.log(a);var t,o=a.attributes.id;t=(a.attributes.sizes.medium||a.attributes.sizes.full).url;a='<div class="sao_image_item"  >';e.parent().find(".sao_image_item").remove(),a+='<input  type="hidden" class="sao_attachment_'+s+'" name="'+s+'" \tvalue="'+o+'">',a+='<span class="sao_image_remove"></span><img  src="'+t+'"/>',a+="</div>",d("body").removeClass("sao-body-panel"),d(e).parent().append(a)})})),t.open()}),d(document).on("click",".sao_add_image",function(a){var t,s=d(this),i=d(this).attr("data-name");a.preventDefault();var o=s.parents(".sao_options_gallery");d(a.target).closest(o);d("body").addClass("sao-body-panel"),t||(t=wp.media({title:sao_text.choose,multiple:!0,library:{type:"image"},button:{text:sao_text.uploader_button}})).on("select",function(){var a=t.state().get("selection");a&&a.each(function(a){var t;console.log(a),t=(a.attributes.sizes.thumbnail||a.attributes.sizes.full).url;var o="a"+Math.floor(9999999999*Math.random()),e=a.attributes.id,a='<div class="sao_gallery_item" id-key="sao_gallery_'+o+'" >';a+='<input  type="hidden" class="sao_attachment_'+o+'" name="'+(i+"["+o+"]")+'" \tvalue="'+e+'">',a+='<span class="sao_image_remove"></span><img  src="'+t+'"/>',a+="</div>",d("body").removeClass("sao-body-panel"),s.next().append(a)})}),t.open()}),jQuery(document).on("click",'.sao_options [type="checkbox"]',function(){d(this).is(":checked")?d(this).val(1):d(this).val("")}),d(document).on("click",".sao_options_cancel,.sao_options_close",function(a){r(),d(this).parents(".sao_options").remove(),d("body").removeClass("sao-body-panel")}),jQuery(document).on("click",'.sao_section_item[data-collapse="show"] .sao_section_collapse',function(){d(this).parents(".sao_section_item").attr("data-collapse","hide"),u()}),jQuery(document).on("click",'.sao_section_item[data-collapse="hide"] .sao_section_collapse',function(){d(this).parents(".sao_section_item").attr("data-collapse","show"),u()}),jQuery(document).on("click",'.sao_column_item[data-collapse="show"] .sao_column_collapse',function(){d(this).parents(".sao_column_item").attr("data-collapse","hide"),u()}),jQuery(document).on("click",'.sao_column_item[data-collapse="hide"] .sao_column_collapse',function(){d(this).parents(".sao_column_item").attr("data-collapse","show"),u()}),jQuery(document).on("click",'.sao_element_item[data-collapse="show"] .sao_element_collapse',function(){d(this).parents(".sao_element_item").attr("data-collapse","hide"),u()}),jQuery(document).on("click",'.sao_element_item[data-collapse="hide"] .sao_element_collapse',function(){d(this).parents(".sao_element_item").attr("data-collapse","show"),u()}),d(document).on("click",".sao_change_column .sao_model_item",function(){d(this).parent().find(".selected").removeClass("selected"),d(this).addClass("selected");var a=d(this).attr("data-column"),t=d(this).find("span").html();d(this).parents(".sao_column_item").removeClass("sao_column_1_1").removeClass("sao_column_1_2").removeClass("sao_column_1_3").removeClass("sao_column_2_3").removeClass("sao_column_3_4").removeClass("sao_column_1_4").removeClass("sao_column_1_5").removeClass("sao_column_2_5").removeClass("sao_column_3_5").removeClass("sao_column_4_5").removeClass("sao_column_1_6"),d(this).parents(".sao_column_item").attr("data-value",a).addClass("sao_column_"+a),d(this).parents(".sao_column_item").find(".sao_column_name").html("").html(t),u(),l(),n()}),jQuery(document).on("click",".sao_column_change",function(){var a=d(this).parents(".sao_column_item").find(".sao_change_column_warp");a.hasClass("sao_change_column_warp")?a.remove():(a="",a='<div class="sao_change_column_warp" ><div class="sao_change_column"   >',a+='<div class="sao_model_title">'+sao_text.change_column+'<i class="sao_change_column_close"></i></div>',a+='<div class="sao_model_content" >',a+=d(".sao_model_column .sao_model_content").html(),a+="</div></div></div>",d(this).parent().parent().append(a)),l()}),jQuery(document).on("click",".sao_change_column_close",function(){d(this).parent().parent().remove()}),jQuery(document).on("click",".sao_icon_close",function(){jQuery("body").removeClass("sao-active-icon"),d(this).parents(".sao_icon").remove()}),jQuery(document).on("click",".sao_builder_choose_icon",function(){jQuery("body").addClass("sao-active-icon"),d("body").append('<div class="sao-mouse-wait"></div>');var a=d(this).parent().attr("id-icon");d(this);d.ajax({type:"POST",url:builder_js.ajaxurl,data:{action:"sao_icon_picker",id:a},success:function(a){a.length?(jQuery("body").append(a),d(".sao-mouse-wait").remove()):i()}})}),jQuery(document).on("click",".sao_icon ul li",function(){d(this).parents(".sao_icon").find(".sao_icon_item").removeClass("selected"),d(this).addClass("selected")}),jQuery(document).on("click",".sao_set_icon",function(){var a=d(this).parents(".sao_icon").find(".selected").data("icon"),t=d(this).parents(".sao_icon").data("id"),t=d('.sao_menu_icon[id-icon="'+t+'"]');d(t).find(".sao-menu-icon ").remove(),d(t).find("input").attr("value",a),d(t).append('<i class="fa sao-menu-icon '+a+'"><a  class="sao_builder_remove_icon" ></a></i>'),d(this).parents(".sao_icon").remove(),jQuery("body").removeClass("sao-active-icon")}),jQuery(document).on("click",".sao_builder_remove_icon",function(){d(this).parents(".sao_menu_icon").find("input").val(""),d(this).parent().remove()}),jQuery(document).on("keyup",".search-icon-control",function(){var a=d(this).val();""!==a?d(this).parents(".sao_icon").attr("sao-has-search","active"):d(this).parents(".sao_icon").attr("sao-has-search","deactive"),d(".sao_icon_item").each(function(){d(this).addClass("sao-search-item"),-1!=d(this).find("span").text().toLowerCase().indexOf(""+a)?d(this).addClass("sao-search-show"):d(this).removeClass("sao-search-show")}),d(".sao_icon_head").each(function(){d(this).addClass("sao-search-item")})}),jQuery(document).on("click",".sao_title_tabs a",function(){d(this).parent().find(".sao_layout_active").removeClass("sao_layout_active"),d(this).addClass("sao_layout_active");var a=d(this).attr("data-id");d(this).parents(".sao_icon,.sao_options_middle,.sao_model_middle").find(".sao_layout_group_active").removeClass("sao_layout_group_active"),d(this).parents(".sao_icon,.sao_options_middle,.sao_model_middle").find('[data-tab="'+a+'"]').addClass("sao_layout_group_active")}),d(document).on("click",".sao_model_close",function(a){d(".sao_builder_list,.sao_element_list,.sao_column_list").sortable({disabled:!1}),d(".sao_model").hide(),d("body").removeClass("sao-body-panel")}),d(document).on("click",".sao_add_tab",function(a){d("body").append('<div class="sao-mouse-wait"></div>');var t="a"+Math.floor(9999999999*Math.random()),o=d(this).attr("data-option"),e=d(this).attr("data-id"),s=d(this);d.ajax({type:"POST",url:builder_js.ajaxurl,data:{action:"sao_options_function_tabs_item",key_tabs:t,option_tabs:o,id_tabs:e},success:function(a){a.length?(d(s).parent().find(".sao_options_setting").append(a),d(".sao-color").cs_wpColorPicker(),d(".sao-mouse-wait").remove()):i()}})}),d(document).on("click",".sao_add_list",function(a){d("body").append('<div class="sao-mouse-wait"></div>');var t="a"+Math.floor(9999999999*Math.random()),o=d(this).attr("data-option"),e=d(this).attr("data-id"),s=d(this);d.ajax({type:"POST",url:builder_js.ajaxurl,data:{action:"sao_options_function_list_item",key_list:t,option_list:o,id_list:e},success:function(a){a.length?(d(s).parents(".sao_options_list").find(".sao_list_item").each(function(a,t){d(this).removeClass("sao_list_item_show").addClass("sao_list_item_hide")}),d(s).parent().find(".sao_options_setting").append(a),c("#sao_"+t),d(".sao-color").cs_wpColorPicker(),m(),d(".sao-mouse-wait").remove(),d(".sao_list_item").on("change keyup mousedown",function(){var a=d(this).find("input,textarea").val();d(this).find(".sao_title_list").html("").html(a)}),_(".sao_list_options_item")):i()}})}),d(document).on("change keyup mousedown",".sao_list_item",function(){var a=d(this).find("input,textarea").val();d(this).find(".sao_title_list").html("").html(a)}),d(document).on("click",'.sao_options_according-start[data-according="hide"] span',function(a){d(".sao_options_according-start").each(function(a,t){d(this).attr("data-according","hide")}),d(this).parent().attr("data-according","show")}),d(document).on("click",'.sao_options_according-start[data-according="show"] span',function(a){d(this).parent().attr("data-according","hide")}),d(document).on("click",".sao_remove_tab",function(a){d(this).parents(".sao_tab_item").remove()}),d(document).on("click",".sao_remove_list",function(a){d(this).parents(".sao_list_item").remove()}),d(document).on("click",".sao_section_remove",function(a){a.preventDefault(),d(this).parents(".sao_section_item").animate({opacity:0},200,function(){d(this).remove(),u()})}),d(document).on("click",".sao_column_remove",function(a){a.preventDefault(),d(this).parents(".sao_column_item").animate({opacity:0},200,function(){d(this).remove(),u()})}),d(document).on("click",".sao_element_item a.sao_element_remove",function(a){a.preventDefault(),d(this).parents(".sao_element_item").animate({opacity:0},200,function(){d(this).remove(),u()})}),d(".sao_options_tabs .sao_options_setting ").sortable({opacity:.6,stop:function(){}}),d(".sao_options_list .sao_options_setting ").sortable({opacity:.6,stop:function(){}}),d(".sao_model_item .sao-col-warp,.sao_model_item img").click(function(){d(this).prev().attr("checked",!0)}),d(document).on("click",".sao_background_color_first",function(){d(this).parent().find(".wp-color-picker").val()}),l(),d(window).on("load",function(){l()})})});