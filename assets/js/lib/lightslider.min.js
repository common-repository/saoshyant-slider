!function(e,i){"use strict";var t={item:1,autoWidth:!1,slideMove:1,slideMargin:0,addClass:"",mode:"slide",useCSS:!0,cssEasing:"linear",easing:"linear",speed:400,auto:!0,pauseOnHover:!0,loop:!1,slideEndAnimation:!0,pause:2e3,keyPress:!1,controls:!1,timer:!1,prevHtml:"",nextHtml:"",rtl:!1,between:0,adaptiveHeight:!1,vertical:!1,verticalHeight:500,vThumbWidth:160,thumbItem:10,pager:!1,gallery:!1,gallery_thumb:!1,pager_position:"top",gallery_thumb_text:!1,gallery_text:!1,gallery_inner_bottom_text:!1,galleryMargin:0,thumbMargin:0,currentPagerPosition:"middle",enableTouch:!0,enableDrag:!0,freeMove:!0,swipeThreshold:40,responsive:[],onBeforeStart:function(e){},onSliderLoad:function(e){},onSliderLoad2:function(e){},onBeforeSlide:function(e,i){},onAfterSlide:function(e,i){},onBeforeNextSlide:function(e,i){},onBeforePrevSlide:function(e,i){}};e.fn.sao_lightSlider=function(i){if(0===this.length)return this;if(this.length>1)return this.each(function(){e(this).lightSlider(i)}),this;var a={},n=e.extend(!0,{},t,i),l={},s=this;a.$el=this,"fade"===n.mode&&(n.vertical=!1);var o=s.children(),r=e(window).width(),d=null,c=0,u=0,h=!1,f=0,g="",v=0,p=!0===n.vertical?"height":"width",m=(n.vertical,0),S=0,C=0,b=0,M=null,T="ontouchstart"in document.documentElement,x={chbreakpoint:function(){if(r=e(window).width(),n.responsive.length){var i;if(!1===n.autoWidth&&(i=n.item),r<n.responsive[0].breakpoint)for(var t=0;t<n.responsive.length;t++)r<n.responsive[t].breakpoint&&(n.responsive[t].breakpoint,d=n.responsive[t]);if(null!=d)for(var a in d.settings)d.settings.hasOwnProperty(a)&&(void 0!==l[a]&&null!==l[a]||(l[a]=n[a]),n[a]=d.settings[a]);if(!e.isEmptyObject(l)&&r>n.responsive[0].breakpoint)for(var s in l)l.hasOwnProperty(s)&&(n[s]=l[s]);!1===n.autoWidth&&m>0&&C>0&&i!==n.item&&(v=Math.round(m/((C+n.slideMargin)*n.slideMove)))}},calSW:function(){!1===n.autoWidth&&(C=(f-(n.item*n.slideMargin-n.slideMargin))/n.item)},calWidth:function(e){var i=!0===e?g.find(".lslide").length:o.length;if(!1===n.autoWidth)u=i*(C+n.slideMargin);else{u=0;for(var t=0;t<i;t++)u+=parseInt(o.eq(t).width())+n.slideMargin}return u}};return(a={doCss:function(){return!(!n.useCSS||!function(){for(var e=["transition","MozTransition","WebkitTransition","OTransition","msTransition","KhtmlTransition"],i=document.documentElement,t=0;t<e.length;t++)if(e[t]in i.style)return!0}())},keyPress:function(){n.keyPress&&e(document).on("keyup.lightslider",function(i){e(":focus").is("input, textarea")||(i.preventDefault?i.preventDefault():i.returnValue=!1,37===i.keyCode?s.goToPrevSlide():39===i.keyCode&&s.goToNextSlide())})},controls:function(){n.controls&&(g.parents("[class*='sao-el']").find("[class*='arrow-next'],[class*='lSNext']").on("click",function(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,s.goToNextSlide(),!1}),g.parents("[class*='sao-el']").find("[class*='arrow-prev'],[class*='lSPrev']").on("click",function(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,s.goToPrevSlide(),!1}))},initialStyle:function(){var e=this;"fade"===n.mode&&(n.autoWidth=!1,n.slideEndAnimation=!1),n.auto&&(n.slideEndAnimation=!1),n.autoWidth&&(n.slideMove=1,n.item=1),n.loop&&(n.slideMove=1,n.freeMove=!1),s.parents(".sao-opacity-hide").show(),n.onBeforeStart.call(this,s),x.chbreakpoint(),s.addClass("lightSlider").wrap('<div class="lSSlideOuter '+n.addClass+'"><div class="lSSlideWrapper"></div></div>'),!1===n.loop&&(s.parent().parent().find(".lSPager").find("li:first-child").hasClass("active")?s.parent().parent().parent().addClass("sao-hide-prev"):s.parent().parent().parent().removeClass("sao-hide-prev"),s.parent().parent().find(".lSPager").find("li:last-child").hasClass("active")?s.parent().parent().parent().addClass("sao-hide-next"):s.parent().parent().parent().removeClass("sao-hide-next")),g=s.parent(".lSSlideWrapper"),!0===n.rtl&&g.parent().addClass("lSrtl"),n.vertical?(g.parent().addClass("vertical"),f=n.verticalHeight,g.css("height",f+"px")):f=s.outerWidth(),o.addClass("lslide"),!0===n.loop&&(x.calSW(),x.clone=function(){if(x.calWidth(!0)>f){for(var i=0,t=0,a=0;a<o.length&&(t++,!((i+=parseInt(s.find(".lslide").eq(a).width())+n.slideMargin)>=f+n.slideMargin));a++);var l=!0===n.autoWidth?t:n.item;if("slide"===n.mode){if(l<s.find(".clone.left").length)for(var r=0;r<s.find(".clone.left").length-l;r++)o.eq(r).remove();if(l<s.find(".clone.right").length)for(var d=o.length-1;d>o.length-1-s.find(".clone.right").length;d--)v--,o.eq(d).remove();for(var c=s.find(".clone.right").length;c<l;c++)s.find(".lslide").eq(c).clone().removeClass("lslide").addClass("clone right").appendTo(s),v++;for(var u=s.find(".lslide").length-s.find(".clone.left").length;u>s.find(".lslide").length-l;u--)s.find(".lslide").eq(u-1).clone().removeClass("lslide").addClass("clone left").prependTo(s);o=s.children()}else o.hasClass("clone")&&(s.find(".clone").remove(),e.move(s,0))}},x.clone()),x.sSW=function(){c=o.length,!0===n.rtl&&!1===n.vertical&&"margin-left",n.autoWidth,u=x.calWidth(!1),s.css(p,u+"px"),!0===n.loop&&"slide"===n.mode&&!1===h&&(v=s.find(".clone.left").length)},x.calL=function(){o=s.children(),c=o.length},this.doCss()&&g.addClass("usingCss"),x.calL(),"slide"===n.mode?(x.calSW(),x.sSW(),!0===n.loop&&(m=e.slideValue(),this.move(s,m)),!1===n.vertical&&this.setHeight(s,!1)):(this.setHeight(s,!0),s.addClass("lSFade"),this.doCss()||(o.fadeOut(0),o.eq(v).fadeIn(0))),!0===n.loop&&"slide"===n.mode?o.eq(v).addClass("active"):o.first().addClass("active")},pager:function(){var e=this;if(x.createPager=function(){b=(f-(n.thumbItem*n.thumbMargin-n.thumbMargin))/n.thumbItem;var i=g.find(".lslide"),t=g.find(".lslide").length,a=0,l="",o=0;for(a=0;a<t;a++){if("slide"===n.mode&&(n.autoWidth?o+=(parseInt(i.eq(a).width())+n.slideMargin)*n.slideMove:o=a*((C+n.slideMargin)*n.slideMove)),!0===n.gallery_thumb)var r='<div class="sao-thumbnail" ><span style="background-image:url('+i.eq(a).find(".sao-thumb img,.sao-image img").attr("src")+');"></span></div>';if(!0===n.gallery?l+='<li style="'+p+":"+b+'px;">'+r+"</li>":l+='<li><a href="#">'+(a+1)+"</a></li>","slide"===n.mode&&o>=u-f-n.slideMargin){a+=1;var d=2;n.autoWidth&&(l+='<li><a href="#">'+(a+1)+"</a></li>",d=1),a<d?(l=null,g.parent().addClass("noPager")):g.parent().removeClass("noPager");break}}var c=g.parent();c.find(".lSPager").html(l),!0===n.gallery&&(!0===n.vertical&&c.find(".lSPager").css("width",n.vThumbWidth+"px"),S=a*(n.thumbMargin+b)+.5,c.find(".lSPager").css({property:S+"px","transition-duration":n.speed+"ms"}),!0===n.vertical&&(!0===n.rtl?g.css("margin-left",n.vThumbWidth+n.galleryMargin+"px"):g.css("margin-right",n.vThumbWidth+n.galleryMargin+"px")),c.find(".lSPager").css(p,S+"px"));var h=c.find(".lSPager").find("li");h.first().addClass("active"),h.on("click",function(){return!0===n.loop&&"slide"===n.mode?v+=h.index(this)-c.find(".lSPager").find("li.active").index():v=h.index(this),s.mode(!1),!0===n.gallery&&e.slideThumb(),!1})},n.pager){var i="lSpg";n.gallery?(i="lSGallery",g.after('<div class="sao-thumbnail-list-warp"><ul class="lSPager '+i+' " ></ul></div>')):g.after('<ul class="lSPager lSpg" ></ul>');n.vertical;x.createPager()}setTimeout(function(){x.init()},0)},setHeight:function(e,i){var t=null,a=this;t=n.loop?e.children(".lslide ").first():e.children().first();var l=function(){var a=t.outerHeight(),n=0,l=a;i&&(a=0,n=100*l/f),e.css({height:a+"px","padding-bottom":n+"%"})};l(),t.find("img").length?t.find("img")[0].complete?(l(),M||a.auto()):t.find("img").load(function(){setTimeout(function(){l(),M||a.auto()},100)}):M||a.auto()},active:function(e,i){this.doCss()&&"fade"===n.mode&&g.addClass("on");var t,a,l=0;v*n.slideMove<c?(e.removeClass("active"),this.doCss()||"fade"!==n.mode||!1!==i||e.fadeOut(n.speed),l=!0===i?v:v*n.slideMove,!0===i&&(a=(t=e.length)-1,l+1>=t&&(l=a)),!0===n.loop&&"slide"===n.mode&&(l=!0===i?v-s.find(".clone.left").length:v*n.slideMove,!0===i&&(a=(t=e.length)-1,l+1===t?l=a:l+1>t&&(l=0))),this.doCss()||"fade"!==n.mode||!1!==i||e.eq(l).fadeIn(n.speed),e.eq(l).addClass("active")):(e.removeClass("active"),e.eq(e.length-1).addClass("active"),this.doCss()||"fade"!==n.mode||!1!==i||(e.fadeOut(n.speed),e.eq(l).fadeIn(n.speed)))},move:function(e,i){!0===n.rtl&&(i=-i),this.doCss()?!0===n.vertical?!0===n.rtl?e.css({transform:"translate3d(0px, "+i+"px, 0px)"}):e.css({transform:"translate3d(0px, "+-i+"px, 0px)"}):e.css({transform:"translate3d("+-i+"px, 0px, 0px)"}):!0===n.vertical?e.css("position","relative").animate({top:-i+"px"},n.speed,n.easing):e.css("position","relative").animate({left:-i+"px"},n.speed,n.easing);var t=g.parent().find(".lSPager").find("li");this.active(t,!0),!1===n.loop&&(g.parent().find(".lSPager").find("li:first-child").hasClass("active")?g.parent().parent().addClass("sao-hide-prev"):g.parent().parent().removeClass("sao-hide-prev"),g.parent().find(".lSPager").find("li:last-child").hasClass("active")?g.parent().parent().addClass("sao-hide-next"):g.parent().parent().removeClass("sao-hide-next"))},fade:function(){this.active(o,!1);var e=g.parent().find(".lSPager").find("li");this.active(e,!0),!1===n.loop&&(g.parent().find(".lSPager").find("li:first-child").hasClass("active")?g.parent().parent().addClass("sao-hide-prev"):g.parent().parent().removeClass("sao-hide-prev"),g.parent().find(".lSPager").find("li:last-child").hasClass("active")?g.parent().parent().addClass("sao-hide-next"):g.parent().parent().removeClass("sao-hide-next"))},slide:function(){var e=this;x.calSlide=function(){u>f&&(m=e.slideValue(),e.active(o,!1),m>u-f-n.slideMargin?m=u-f-n.slideMargin:m<0&&(m=0),e.move(s,m),!0===n.loop&&"slide"===n.mode&&(v>=c-s.find(".clone.left").length/n.slideMove&&e.resetSlide(s.find(".clone.left").length),0===v&&e.resetSlide(g.find(".lslide").length)))},x.calSlide()},resetSlide:function(e){var i=this;setTimeout(function(){v=e,g.css("transition-duration","0ms"),m=i.slideValue(),i.active(o,!1),a.move(s,m),setTimeout(function(){g.css("transition-duration",n.speed+"ms"),g.find(".lSAction a").removeClass("disabled")},50)},n.speed+100)},slideValue:function(){var e=0;if(!1===n.autoWidth)e=v*((C+n.slideMargin)*n.slideMove);else{e=0;for(var i=0;i<v;i++)e+=parseInt(o.eq(i).width())+n.slideMargin}return e},slideThumb:function(){var e;switch(n.currentPagerPosition){case"left":case"middle":e=0;break;case"right":e=f-b}var i=v-s.find(".clone.left").length,t=g.parent().find(".lSPager");"slide"===n.mode&&!0===n.loop&&(i>=t.children().length?i=0:i<0&&(i=t.children().length));var a=i*(b+n.thumbMargin)-e;a+f>S&&(a=S-f-n.thumbMargin),a<0&&(a=0),this.move(t,a)},auto:function(){n.auto&&(clearInterval(M),M=setInterval(function(){s.goToNextSlide()},n.pause))},pauseOnHover:function(){var i=this;n.auto&&n.pauseOnHover&&(g.on("mouseenter",function(){e(this).addClass("ls-hover"),s.pause(),n.auto=!0}),g.on("mouseleave",function(){e(this).removeClass("ls-hover"),g.find(".lightSlider").hasClass("lsGrabbing")||i.auto()}))},touchMove:function(e,i){if(g.css("transition-duration","0ms"),"slide"===n.mode){var t=m-(e-i);if(t>=u-f-n.slideMargin)if(!1===n.freeMove)t=u-f-n.slideMargin;else{var a=u-f-n.slideMargin;t=a+(t-a)/5}else t<0&&(!1===n.freeMove?t=0:t/=5);this.move(s,t)}},touchEnd:function(e){if(g.css("transition-duration",n.speed+"ms"),"slide"===n.mode){var i=!1,t=!0;(m-=e)>u-f-n.slideMargin?(m=u-f-n.slideMargin,!1===n.autoWidth&&(i=!0)):m<0&&(m=0);var a=function(e){var t=0;if(i||e&&(t=1),n.autoWidth)for(var a=0,l=0;l<o.length&&(a+=parseInt(o.eq(l).width())+n.slideMargin,v=l+t,!(a>=m));l++);else{var s=m/((C+n.slideMargin)*n.slideMove);v=parseInt(s)+t,m>=u-f-n.slideMargin&&s%1!=0&&v++}};e>=n.swipeThreshold?(a(!1),t=!1):e<=-n.swipeThreshold&&(a(!0),t=!1),s.mode(t),this.slideThumb()}else e>=n.swipeThreshold?s.goToPrevSlide():e<=-n.swipeThreshold&&s.goToNextSlide()},enableDrag:function(){var i=this;if(!T){var t=0,a=0,l=!1;g.find(".lightSlider").addClass("lsGrab"),g.on("mousedown",function(i){if(u<f&&0!==u)return!1;"lSPrev"!==e(i.target).attr("class")&&"lSNext"!==e(i.target).attr("class")&&(t=!0===n.vertical?i.pageY:i.pageX,l=!0,i.preventDefault?i.preventDefault():i.returnValue=!1,g.scrollLeft+=1,g.scrollLeft-=1,g.find(".lightSlider").removeClass("lsGrab").addClass("lsGrabbing"),clearInterval(M))}),e(window).on("mousemove",function(e){l&&(a=!0===n.vertical?e.pageY:e.pageX,!0===n.rtl&&!1===n.vertical?i.touchMove(t,a):i.touchMove(a,t))}),e(window).on("mouseup",function(s){if(l){if(g.find(".lightSlider").removeClass("lsGrabbing").addClass("lsGrab"),l=!1,a=!0===n.vertical?s.pageY:s.pageX,!0===n.rtl&&!1===n.vertical)var o=t-a;else o=a-t;Math.abs(o)>=n.swipeThreshold&&e(window).on("click.ls",function(i){i.preventDefault?i.preventDefault():i.returnValue=!1,i.stopImmediatePropagation(),i.stopPropagation(),e(window).off("click.ls")}),i.touchEnd(o)}})}},enableTouch:function(){var e=this;if(T){var i={},t={};g.on("touchstart",function(e){t=e.originalEvent.targetTouches[0],i.pageX=e.originalEvent.targetTouches[0].pageX,i.pageY=e.originalEvent.targetTouches[0].pageY,clearInterval(M)}),g.on("touchmove",function(a){if(u<f&&0!==u)return!1;var l=a.originalEvent;t=l.targetTouches[0];var s=Math.abs(t.pageX-i.pageX),o=Math.abs(t.pageY-i.pageY);!0===n.vertical?(3*o>s&&a.preventDefault(),e.touchMove(t.pageY,i.pageY)):(3*s>o&&a.preventDefault(),!0===n.rtl?e.touchMove(i.pageX,t.pageX):e.touchMove(t.pageX,i.pageX))}),g.on("touchend",function(){if(u<f&&0!==u)return!1;var a;a=!0===n.vertical?startCoord.pageY-sendCoords.pageY:!0===n.rtl?i.pageX-t.pageX:t.pageX-i.pageX,e.touchEnd(a)})}},build:function(){var i=this;i.initialStyle(),this.doCss()&&(!0===n.enableTouch&&i.enableTouch(),!0===n.enableDrag&&i.enableDrag()),e(window).on("focus",function(){i.auto()}),e(window).on("blur",function(){clearInterval(M)}),i.pager(),i.pauseOnHover(),i.controls(),i.keyPress()}}).build(),x.init=function(){x.chbreakpoint(),!0===n.vertical?(f=n.item>1?n.verticalHeight:o.outerHeight(),g.css("height",f+"px")):f=g.outerWidth(),!0===n.loop&&"slide"===n.mode&&x.clone(),x.calL(),"slide"===n.mode&&s.removeClass("lSSlide"),"slide"===n.mode&&(x.calSW(),x.sSW()),setTimeout(function(){"slide"===n.mode&&s.addClass("lSSlide")},1e3),n.pager&&x.createPager(),!0===n.adaptiveHeight&&n.vertical,!1===n.adaptiveHeight&&"slide"===n.mode&&(!1===n.vertical||a.auto()),!0===n.gallery&&a.slideThumb(),"slide"===n.mode&&a.slide(),!1===n.autoWidth?o.length<=n.item?g.find(".lSAction").hide():g.find(".lSAction").show():x.calWidth(!1)<f&&0!==u?g.find(".lSAction").hide():g.find(".lSAction").show()},s.goToPrevSlide=function(){if(v>0)n.onBeforePrevSlide.call(this,s,v),v--,s.mode(!1),!0===n.gallery&&a.slideThumb();else if(!0===n.loop){if(n.onBeforePrevSlide.call(this,s,v),"fade"===n.mode)v=parseInt((c-1)/n.slideMove);s.mode(!1),!0===n.gallery&&a.slideThumb()}},s.goToNextSlide=function(){var e=!0;"slide"===n.mode&&(e=a.slideValue()<u-f-n.slideMargin);v*n.slideMove<c-n.slideMove&&e?(n.onBeforeNextSlide.call(this,s,v),v++,s.mode(!1),!0===n.gallery&&a.slideThumb()):!0===n.loop&&(n.onBeforeNextSlide.call(this,s,v),v=0,s.mode(!1),!0===n.gallery&&a.slideThumb())},s.mode=function(i){!0===n.adaptiveHeight&&!1===n.vertical&&s.css("height",o.eq(v).outerHeight(!0)),!1===h&&("slide"===n.mode?a.doCss()&&(s.addClass("lSSlide"),""!==n.speed&&g.css("transition-duration",n.speed+"ms"),""!==n.cssEasing&&g.css("transition-timing-function",n.cssEasing)):a.doCss()&&(""!==n.speed&&s.css("transition-duration",n.speed+"ms"),""!==n.cssEasing&&s.css("transition-timing-function",n.cssEasing))),i||(n.onBeforeSlide.call(this,s,v),s.find("lslide").each(function(i,t){e(this).hasClass("active")?e(this).removeClass("active"):e(this).addClass("active")})),"slide"===n.mode?a.slide():a.fade(),g.hasClass("ls-hover")||a.auto(),setTimeout(function(){i||n.onAfterSlide.call(this,s,v)},n.speed),h=!0},s.play=function(){s.goToNextSlide(),n.auto=!0,a.auto()},s.pause=function(){n.auto=!1,clearInterval(M)},s.refresh=function(){x.init()},s.getCurrentSlideCount=function(){var e=v;if(n.loop){var i=g.find(".lslide").length,t=s.find(".clone.left").length;e=v<=t-1?i+(v-t):v>=i+t?v-i-t:v-t}return e+1},s.getTotalSlideCount=function(){return g.find(".lslide").length},s.goToSlide=function(e){v=n.loop?e+s.find(".clone.left").length-1:e,s.mode(!1),!0===n.gallery&&a.slideThumb()},s.destroy=function(){s.lightSlider&&(s.goToPrevSlide=function(){},s.goToNextSlide=function(){},s.mode=function(){},s.play=function(){},s.pause=function(){},s.refresh=function(){},s.getCurrentSlideCount=function(){},s.getTotalSlideCount=function(){},s.goToSlide=function(){},s.lightSlider=null,x={init:function(){}},s.parent().parent().find(".lSAction, .lSPager").remove(),s.removeClass("lightSlider lSFade lSSlide lsGrab lsGrabbing leftEnd right").removeAttr("style").unwrap().unwrap(),s.children().removeAttr("style"),o.removeClass("lslide active"),s.find(".clone").remove(),o=null,M=null,h=!1,v=0)},setTimeout(function(){n.onSliderLoad.call(this,s),s.parents(".sao-opacity-hide").removeClass("sao-opacity-hide").addClass("sao-opacity-show")},10),e(window).on("resize orientationchange",function(e){setTimeout(function(){e.preventDefault?e.preventDefault():e.returnValue=!1,x.init()},200)}),this}}(jQuery);